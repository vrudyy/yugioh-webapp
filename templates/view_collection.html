<!-- templates/view_collection.html -->
{% extends 'base.html' %}

{% block title %}View Collection{% endblock %}

{% block content %}
    <h1>Add Card to Your Collection</h1>
    <form action="/add_card" method="post">
        <label for="set_code">Set Code:</label>
        <input type="text" id="set_code" name="set_code" required>
        <br>
        <label for="quantity">Quantity:</label>
        <input type="number" id="quantity" name="quantity" min="1" value="1">
        <br>
        <button type="submit">Add Card</button>
    </form>

    <h1>Your Card Collection</h1>

    <form action="/view_collection" method="get" class="filter-form">
        <label for="search_query">Search:</label>
        <input type="text" id="search_query" name="search_query" value="{{ search_query }}">
        <button type="submit">Search</button>
    </form>

    <div class="card-grid">
        {% for item in results %}
            <div class="card-item">
                <img src="{{ item[3] }}" alt="{{ item[1] }}">
                <h2>{{ item[1] }}</h2>
                <p>Quantity: {{ item[2] }}</p>
                <p>Amazon Price: {{ item[4] }}</p>

                <form action="/delete_card" method="post" class="delete-form">
                    <input type="hidden" name="card_id" value="{{ item[0] }}">
                    <input type="number" name="amount" min="1" max="{{ item[2] }}" required>
                    <button type="submit">Remove</button>
                </form>

            </div>
        {% endfor %}
    </div>
{% endblock %}
